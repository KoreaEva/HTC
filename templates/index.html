<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTC 8ì›” ì¼ì •ê´€ë¦¬</title>
    <style>
        :root { --bg: #0E1117; --panel: #262730; --muted: #888888; --accent: #1E1E1E; --text: #FAFAFA; }
        body { font-family: Arial, sans-serif; max-width:1200px; margin:0 auto; padding:20px; background:var(--bg); color:var(--text); }
        .controls { display:flex; justify-content:space-between; gap:10px; margin-bottom:12px; }
        select { background: var(--panel); color:var(--text); border:1px solid #3E3E3E; padding:6px 8px; border-radius:4px; }
        .schedule-table { width:100%; border-collapse:collapse; margin-top:20px; font-size:0.9em; }
        .schedule-table th, .schedule-table td { border:1px solid #3E3E3E; padding:10px; text-align:left; }
        .schedule-table th { background: var(--accent); color:var(--text); font-weight:600; }
        .schedule-table td { background: var(--panel); color:var(--text); }
        .schedule-table tr:hover td { background: #2a2d35; }
        .status-working { color:#FFD700; font-weight:600; }
        .status-working td { color:#FFD700; font-weight:600; }
        .status-planned { color:var(--text); }
        .status-planned td { color:var(--text); }
        .status-cancelled { color:#FF6B6B; text-decoration:line-through; }
        .status-cancelled td { color:#FF6B6B; text-decoration:line-through; }
        
        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tab-container { display:flex; margin-bottom:20px; border-bottom:1px solid #3E3E3E; }
        .tab-button { background:var(--panel); color:var(--text); border:none; padding:12px 24px; cursor:pointer; border-radius:4px 4px 0 0; margin-right:4px; }
        .tab-button:hover { background:#2a2d35; }
        .tab-button.active { background:var(--accent); color:var(--text); }
        
        /* íƒ­ ì½˜í…ì¸  */
        .tab-content { display:none; }
        .tab-content.active { display:block; }
        
        /* ë¡œê·¸ì¸ í¼ ìŠ¤íƒ€ì¼ */
        .login-container { max-width:400px; margin:40px auto; padding:30px; background:var(--panel); border-radius:8px; border:1px solid #3E3E3E; }
        .login-form { display:flex; flex-direction:column; gap:20px; }
        .form-group { display:flex; flex-direction:column; gap:8px; }
        .form-group label { color:var(--text); font-weight:600; }
        .form-group input { background:var(--bg); color:var(--text); border:1px solid #3E3E3E; padding:12px; border-radius:4px; font-size:14px; }
        .form-group input:focus { outline:none; border-color:#FFD700; }
        .login-button { background:#FFD700; color:#000; border:none; padding:12px; border-radius:4px; font-weight:600; cursor:pointer; font-size:14px; }
        .login-button:hover { background:#FFED4E; }
        .register-button { background:#1565C0; color:white; border:none; padding:12px; border-radius:4px; font-weight:600; cursor:pointer; font-size:14px; }
        .register-button:hover { background:#1976D2; }
    </style>
</head>
<body>
    <h1>HTC 8ì›” ì¼ì •ê´€ë¦¬</h1>
    
    <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="tab-container">
        <button class="tab-button active" onclick="showTab('schedule')">ì¼ì •ê´€ë¦¬</button>
        <button class="tab-button" onclick="showTab('training')">Training Center</button>
    </div>
    
    <!-- ì¼ì •ê´€ë¦¬ íƒ­ -->
    <div id="schedule-tab" class="tab-content active">
        <div class="controls">
            <div style="display:flex; gap:8px; align-items:center;">
                <select id="yearSelect"></select>
                <select id="monthSelect"></select>
            </div>
        </div>
        
        <div id="scheduleList"></div>
    </div>
    
    <!-- Training Center íƒ­ -->
    <div id="training-tab" class="tab-content">
        <div class="login-container">
            <h2>Training Center ë¡œê·¸ì¸</h2>
            <form id="loginForm" class="login-form">
                                 <div class="form-group">
                     <label for="trainingKey">íŠ¸ë ˆì´ë‹ í‚¤ (ê´€ë¦¬ìëŠ” ë¹„ì›Œë‘˜ ìˆ˜ ìˆìŒ)</label>
                     <input type="text" id="trainingKey" name="trainingKey" placeholder="íŠ¸ë ˆì´ë‹ í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ê´€ë¦¬ìëŠ” ë¹„ì›Œë‘˜ ìˆ˜ ìˆìŒ)">
                 </div>
                <div class="form-group">
                    <label for="username">ì•„ì´ë””</label>
                    <input type="text" id="username" name="username" required placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="password" name="password" required placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <button type="submit" class="login-button">ë¡œê·¸ì¸</button>
            </form>
            <div id="loginMessage" style="margin-top:15px; text-align:center; color:var(--muted);"></div>
            <div style="margin-top:20px; text-align:center;">
                <button type="button" class="register-button" onclick="showRegisterForm()">íšŒì›ê°€ì…</button>
            </div>
        </div>
    </div>

    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="registerModal" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.7); z-index:1000; align-items:center; justify-content:center;">
        <div style="background:var(--panel); padding:40px 30px 30px 30px; border-radius:16px; min-width:350px; max-width:95vw; margin:100px auto; box-shadow:0 8px 32px rgba(0,0,0,0.3); position:relative; border:1px solid #3E3E3E;">
            <h2 id="registerModalTitle" style="margin-bottom:24px; color:#FFD700; text-align:center; font-size:1.5em;">íšŒì›ê°€ì…</h2>
            
            <!-- íŠ¸ë ˆì´ë‹ í‚¤ í™•ì¸ ë‹¨ê³„ -->
            <div id="trainingKeyStep">
                <div class="form-group" style="margin-bottom:18px;">
                    <label style="font-size:15px; margin-bottom:6px; color:var(--text); font-weight:600;">íŠ¸ë ˆì´ë‹ í‚¤</label>
                    <input type="text" id="registerTrainingKey" required style="font-size:16px; padding:12px; border-radius:6px; border:1px solid #3E3E3E; background:var(--bg); color:var(--text); width:100%; box-sizing:border-box;" placeholder="íŠ¸ë ˆì´ë‹ í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <div style="margin-top:20px; text-align:center;">
                    <button type="button" class="login-button" onclick="checkTrainingKey()" style="min-width:100px; margin-right:10px;">í™•ì¸</button>
                    <button type="button" class="register-button" onclick="closeRegisterModal()" style="min-width:100px;">ì·¨ì†Œ</button>
                </div>
            </div>

            <!-- íšŒì›ê°€ì… í¼ ë‹¨ê³„ -->
            <div id="registerFormStep" style="display:none;">
                <form id="registerForm">
                    <div class="form-group" style="margin-bottom:18px;">
                        <label style="font-size:15px; margin-bottom:6px; color:var(--text); font-weight:600;">ì´ë¦„</label>
                        <input type="text" id="registerName" required style="font-size:16px; padding:12px; border-radius:6px; border:1px solid #3E3E3E; background:var(--bg); color:var(--text); width:100%; box-sizing:border-box;" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div class="form-group" style="margin-bottom:18px;">
                        <label style="font-size:15px; margin-bottom:6px; color:var(--text); font-weight:600;">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="registerPassword" required style="font-size:16px; padding:12px; border-radius:6px; border:1px solid #3E3E3E; background:var(--bg); color:var(--text); width:100%; box-sizing:border-box;" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div class="form-group" style="margin-bottom:24px;">
                        <label style="font-size:15px; margin-bottom:6px; color:var(--text); font-weight:600;">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input type="password" id="registerPasswordConfirm" required style="font-size:16px; padding:12px; border-radius:6px; border:1px solid #3E3E3E; background:var(--bg); color:var(--text); width:100%; box-sizing:border-box;" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div style="margin-top:20px; text-align:center;">
                        <button type="submit" class="login-button" style="min-width:100px; margin-right:10px;">ê°€ì…í•˜ê¸°</button>
                        <button type="button" class="register-button" onclick="closeRegisterModal()" style="min-width:100px;">ì·¨ì†Œ</button>
                    </div>
                </form>
            </div>

            <!-- ê°€ì… ì™„ë£Œ ë‹¨ê³„ -->
            <div id="registerCompleteStep" style="display:none;">
                <div style="text-align:center; margin-bottom:24px;">
                    <h3 style="color:#4CAF50; margin-bottom:16px;">ğŸ‰ íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                    <p style="color:var(--text); margin-bottom:8px;">ì´ë¦„: <span id="completeName" style="font-weight:600; color:#FFD700;"></span></p>
                    <p style="color:var(--text); margin-bottom:16px;">ì•„ì´ë””: <span id="completeId" style="font-weight:600; color:#FFD700;"></span></p>
                    <p style="color:var(--muted); font-size:14px;">ìœ„ì˜ ì•„ì´ë””ë¡œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</p>
                </div>
                <div style="text-align:center;">
                    <button type="button" class="login-button" onclick="closeRegisterModal()" style="min-width:100px;">í™•ì¸</button>
                </div>
            </div>

            <div id="registerMessage" style="margin-top:15px; text-align:center; color:var(--muted);"></div>
        </div>
    </div>

    <script>
        // íƒ­ ì „í™˜ í•¨ìˆ˜
        function showTab(tabName) {
            // ëª¨ë“  íƒ­ ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ëª¨ë“  íƒ­ ì½˜í…ì¸ ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ì„ íƒëœ íƒ­ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
            
            // ì„ íƒëœ íƒ­ ì½˜í…ì¸ ì— active í´ë˜ìŠ¤ ì¶”ê°€
            document.getElementById(tabName + '-tab').classList.add('active');
        }
        
        function initializeSelects(){
            const yearSelect = document.getElementById('yearSelect');
            const monthSelect = document.getElementById('monthSelect');
            
            // 2025ë…„ 8ì›”ë¡œ ê³ ì •
            const opt = document.createElement('option'); 
            opt.value=2025; 
            opt.textContent='2025ë…„'; 
            opt.selected=true; 
            yearSelect.appendChild(opt);
            
            const monthOpt = document.createElement('option'); 
            monthOpt.value=8; 
            monthOpt.textContent='8ì›”'; 
            monthOpt.selected=true; 
            monthSelect.appendChild(monthOpt);
        }

        function parseEventDate(event){
            try{
                // year ì»¬ëŸ¼ì´ datetime íƒ€ì…ì´ë¯€ë¡œ ì§ì ‘ ì‚¬ìš©
                if(event.year){
                    return new Date(event.year);
                }
                if(event.start_datetime){
                    return new Date(event.start_datetime.replace(' ', 'T'));
                }
            }catch(e){ console.warn('parseEventDate error', e); }
            return null;
        }

        function formatTime(seconds) {
            if (!seconds || seconds === '') return '';
            
            // ìˆ«ìì¸ ê²½ìš° ì´ˆ ë‹¨ìœ„ë¡œ ì²˜ë¦¬
            if (typeof seconds === 'number' || !isNaN(parseInt(seconds))) {
                const totalSeconds = parseInt(seconds);
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
            }
            
            // ì´ë¯¸ ì‹œê°„ í˜•ì‹ì¸ ê²½ìš° ê·¸ëŒ€ë¡œ ë°˜í™˜
            return seconds;
        }

        async function loadSchedule(){
            const year = document.getElementById('yearSelect').value;
            const month = document.getElementById('monthSelect').value;
            
            const resp = await fetch(`/api/events?year=${year}&month=${month}`);
            let events = await resp.json();

            // ê³µê°œ í•­ëª©ë§Œ í•„í„°ë§í•˜ê³  Done ìƒíƒœ ì œì™¸
            events = events.filter(ev => (ev.is_public == 1 || ev.is_public === true || ev.is_public === '1') && ev.status !== 'Done');
            
            // ë‚ ì§œ ìˆœìœ¼ë¡œ ì •ë ¬
            events.sort((a,b)=> (parseEventDate(a)||0) - (parseEventDate(b)||0));

            const scheduleContainer = document.getElementById('scheduleList');
            
            if(events.length === 0) {
                scheduleContainer.innerHTML = '<p style="text-align:center; color:var(--muted); margin-top:40px;">í•´ë‹¹ ì›”ì˜ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }

            let table = `
                <table class="schedule-table">
                    <thead>
                        <tr>
                            <th>ë‚ ì§œ</th>
                            <th>ì—…ë¬´</th>
                            <th>ê³ ê°</th>
                            <th>ìƒíƒœ</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            events.forEach(ev=>{
                const dt = parseEventDate(ev);
                const dateStr = dt ? dt.toLocaleDateString('ko-KR', {year: 'numeric', month: '2-digit', day: '2-digit'}) : '';
                
                const title = ev.job_title || '';
                const client = ev.client || '';
                
                let statusClass = '';
                let statusText = ev.status || '';
                if(ev.status === 'Done') statusClass = 'status-done';
                else if(ev.status === 'Working') statusClass = 'status-working';
                else if(ev.status === 'Planned') statusClass = 'status-planned';
                else if(ev.status === 'Cancelled') statusClass = 'status-cancelled';

                table += `
                    <tr class="${statusClass}">
                        <td>${dateStr}</td>
                        <td>${title}</td>
                        <td>${client}</td>
                        <td>${statusText}</td>
                    </tr>
                `;
            });

            table += '</tbody></table>';
            scheduleContainer.innerHTML = table;
        }

        // ë¡œê·¸ì¸ í¼ ì œì¶œ ì´ë²¤íŠ¸
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const trainingKey = document.getElementById('trainingKey').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const messageDiv = document.getElementById('loginMessage');
            
                         if (!username || !password) {
                 messageDiv.textContent = 'ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                 messageDiv.style.color = '#FF6B6B';
                 return;
             }
            
            try {
                const response = await fetch('/api/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        training_key: trainingKey,
                        username: username,
                        password: password
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // ë¡œê·¸ì¸ ì„±ê³µ
                    const role = result.role;
                    
                    // role ê°’ì— ë”°ë¼ ë‹¤ë¥¸ ë©”ì‹œì§€ì™€ ì´ë™ ê²½ë¡œ ì„¤ì •
                    if (role >= 100) {
                        // ê´€ë¦¬ì (role >= 100)
                        messageDiv.textContent = 'ë¡œê·¸ì¸ ì„±ê³µ! ê´€ë¦¬ì í¬í„¸ë¡œ ì´ë™í•©ë‹ˆë‹¤...';
                        messageDiv.style.color = '#4CAF50';
                        
                        // ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì„¸ì…˜ì— ì €ì¥
                        sessionStorage.setItem('loginInfo', JSON.stringify({
                            training_key: result.training_key || trainingKey,
                            member_id: username,
                            member_name: username, // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì´ë¦„ì„ ê°€ì ¸ì™€ì•¼ í•¨
                            role: role
                        }));
                        
                        // ì ì‹œ í›„ ê´€ë¦¬ì í¬í„¸ë¡œ ì´ë™
                        setTimeout(() => {
                            window.location.href = '/admin';
                        }, 1000);
                    } else {
                        // ì¼ë°˜ ì‚¬ìš©ì (role < 100)
                        messageDiv.textContent = 'ë¡œê·¸ì¸ ì„±ê³µ! í¬í„¸ë¡œ ì´ë™í•©ë‹ˆë‹¤...';
                        messageDiv.style.color = '#4CAF50';
                        
                        // ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì„¸ì…˜ì— ì €ì¥
                        sessionStorage.setItem('loginInfo', JSON.stringify({
                            training_key: result.training_key || trainingKey,
                            member_id: username,
                            member_name: username, // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì´ë¦„ì„ ê°€ì ¸ì™€ì•¼ í•¨
                            role: role
                        }));
                        
                        // ì ì‹œ í›„ ì¼ë°˜ í¬í„¸ë¡œ ì´ë™
                        setTimeout(() => {
                            window.location.href = '/training-portal';
                        }, 1000);
                    }
                    
                } else {
                    // ë¡œê·¸ì¸ ì‹¤íŒ¨
                    messageDiv.textContent = result.detail || 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                    messageDiv.style.color = '#FF6B6B';
                }
                
            } catch (error) {
                console.error('ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
                messageDiv.textContent = 'ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                messageDiv.style.color = '#FF6B6B';
            }
        });
        
        // íšŒì›ê°€ì… ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function showRegisterForm() {
            document.getElementById('registerModal').style.display = 'flex';
            resetRegisterModal();
        }

        function closeRegisterModal() {
            document.getElementById('registerModal').style.display = 'none';
            resetRegisterModal();
        }

        function resetRegisterModal() {
            document.getElementById('trainingKeyStep').style.display = 'block';
            document.getElementById('registerFormStep').style.display = 'none';
            document.getElementById('registerCompleteStep').style.display = 'none';
            document.getElementById('registerTrainingKey').value = '';
            document.getElementById('registerName').value = '';
            document.getElementById('registerPassword').value = '';
            document.getElementById('registerPasswordConfirm').value = '';
            document.getElementById('registerMessage').textContent = '';
            document.getElementById('registerMessage').style.color = 'var(--muted)';
        }

        // íŠ¸ë ˆì´ë‹ í‚¤ í™•ì¸
        async function checkTrainingKey() {
            const trainingKey = document.getElementById('registerTrainingKey').value;
            const messageDiv = document.getElementById('registerMessage');
            
            if (!trainingKey) {
                messageDiv.textContent = 'íŠ¸ë ˆì´ë‹ í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                messageDiv.style.color = '#FF6B6B';
                return;
            }

            try {
                const response = await fetch('/api/check-training-key', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        training_key: trainingKey
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // íŠ¸ë ˆì´ë‹ í‚¤ê°€ ìœ íš¨í•˜ë©´ íšŒì›ê°€ì… í¼ í‘œì‹œ
                    document.getElementById('trainingKeyStep').style.display = 'none';
                    document.getElementById('registerFormStep').style.display = 'block';
                    messageDiv.textContent = '';
                } else {
                    messageDiv.textContent = result.detail || 'ìœ íš¨í•˜ì§€ ì•Šì€ íŠ¸ë ˆì´ë‹ í‚¤ì…ë‹ˆë‹¤.';
                    messageDiv.style.color = '#FF6B6B';
                }
                
            } catch (error) {
                console.error('íŠ¸ë ˆì´ë‹ í‚¤ í™•ì¸ ì˜¤ë¥˜:', error);
                messageDiv.textContent = 'íŠ¸ë ˆì´ë‹ í‚¤ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                messageDiv.style.color = '#FF6B6B';
            }
        }

        // íšŒì›ê°€ì… í¼ ì œì¶œ
        document.getElementById('registerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const trainingKey = document.getElementById('registerTrainingKey').value;
            const name = document.getElementById('registerName').value;
            const password = document.getElementById('registerPassword').value;
            const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
            const messageDiv = document.getElementById('registerMessage');
            
            if (!name || !password || !passwordConfirm) {
                messageDiv.textContent = 'ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                messageDiv.style.color = '#FF6B6B';
                return;
            }
            
            if (password !== passwordConfirm) {
                messageDiv.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
                messageDiv.style.color = '#FF6B6B';
                return;
            }

            try {
                const response = await fetch('/api/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        training_key: trainingKey,
                        name: name,
                        password: password
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // íšŒì›ê°€ì… ì„±ê³µ
                    document.getElementById('registerFormStep').style.display = 'none';
                    document.getElementById('registerCompleteStep').style.display = 'block';
                    document.getElementById('completeName').textContent = result.name;
                    document.getElementById('completeId').textContent = result.member_id;
                    messageDiv.textContent = '';
                } else {
                    messageDiv.textContent = result.detail || 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                    messageDiv.style.color = '#FF6B6B';
                }
                
            } catch (error) {
                console.error('íšŒì›ê°€ì… ì˜¤ë¥˜:', error);
                messageDiv.textContent = 'íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                messageDiv.style.color = '#FF6B6B';
            }
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', ()=>{
            initializeSelects();
            loadSchedule();
        });
    </script>
</body>
</html>